合成模式在XML设计中的应用。

摘要：随着IT行业的发展，为了满足用户越来越高的要求，现在的信息系统做    的也越来越庞大和复杂，有时，过多的冗余的代码确实是让程序员头疼的事。而预先设计好的优良的设计模式恰巧能改变这一现状，为系统开发者提供一个径。
XML在信息系统开发中是很常见的，主要是作为文档记录开发过程中所需的数据。
 
关键字：合成模式，设计模式，信息系统，XML 

一、设计模式在信息系统开发中的应用
 
    在我们以往的信息系统开发过程中，存在很多地方是我们没有考虑周到的，而这些地方用设计模式恰恰能被改善，下面将以往所做过的信息系统用设计模式做出改善。比如说一个简单的基于浏览器/服务器的电商网站，在我们以往做的过程中，都只是有一个商家，就注册一个商家，有什么样的商品就新建一个什么样的商品，简单的代码处理需要往数据库中添加商家和商品，需要输入两条sql语句。如果能够注册一种类型的商家，就可以预先设定它能够销售的商品，预先把sql语句输入，这样做会更加方便，而在设计模式中，抽象工厂模式就可以解决这种问题，注册一个商家，该商家再新建一些商品，只需要两条语句，而不需要过多的代码，因为这些具体的操作都事先采用设计模式设计好了。
再比如说，一个简单的员工管理信息系统，一个单位的员工有很多，但是却只有一个最高位置的管理者，而我们以往的做法就只是预先在库中设定一个管理者，并没有提供一个注册管理者的功能，这样只会使这个管理者一直做下去，不会有退休或者离职的机会，这在现实中肯定是不可能的。那么，我们应该怎么做呢？单例模式就给了我们个很好的灵感。对管理者的注册采用单例模式，若这个单位已经存在了一个管理者，则无法再创建一个新的管理者，只有当这个管理者注销后才能允许新的管理者注册，实现一个单位有一个最高的管理者。

二、组合模式简介

1、组合模式定义
   组合模式(Composite Pattern)：组合多个对象形成树形结构以表示“整体-部分”的结构层次。组合模式对单个对象（即叶子对象）和组合对象（即容器对象）的使用具有一致性。
    组合模式又可以称为“整体-部分”(Part-Whole)模式，属于对象的结构模式，它将对象组织到树结构中，可以用来描述整体与部分的关系。

2、模式结构
  （1）文件系统组合模式结构图：
 
   （2）组合模式包含如下角色：
   Component: 抽象构件
   Leaf: 叶子构件
   Composite: 容器构件
   Client: 客户类

3、组合模式简介的优缺点

组合模式优点：
（1）可以清楚地定义分层次的复杂对象，表示对象的全部或部分层次，使得增加新构件也更容易。
（2）客户端调用简单，客户端可以一致的使用组合结构或其中单个对象。
（3）定义了包含叶子对象和容器对象的类层次结构，叶子对象可以被组合成更复杂的容器对象，而这个容器对象又可以被组合，这样不断递归下去，可以形成复杂的树形结构。
（4）更容易在组合体内加入对象构件，客户端不必因为加入了新的对象构件而更改原有代码。
组合模式的缺点：
（1）使设计变得更加抽象，对象的业务规则如果很复杂，则实现组合模式具有很大挑战性，而且不是所有的方法都与叶子对象子类都有关联。
（2）增加新构件时可能会产生一些问题，很难对容器中的构件类型进行限制。
三、XML在信息系统开发中的应用

   XML是一种可扩展的标记语言，它不是替代超文本标记语言（HTML），而是作为一种补充辅助超文本标记语言。它被设计用来传输和存储数据，其焦点是数据的内容。根据它的定义我们可以知道，它就是一种文档，存储和规范信息系统开发中的数据。由于不同开发层次之间，语言和平台等的差异倒是系统集成变得很复杂，这时，XML就起到了很重要的作用，
它在每种语言或者平台上都能应用，致使它无法替代的作用。
在我们以前做过的网站中，HTML文档中需要显示动态数据时，每当数据改变，我们都需要花费大量时间来编辑HTML。而此时，如果采用XML，数据就能够存储在独立的XML文件中，这样就可以专注于使用HTML进行布局和显示，并且可以确保修改底层数据不需要对HTML进行任何修改。只需要通过几行javascript，就可以读取一个外部XML文件，然后更新HTML中的数据内容，来实现HTML文档中的动态数据。
    有时我们开发一个信息系统时，不同的平台会遇到不兼容的问题，一个简单的网站，在不同版本的IE浏览器中显示都会存在细微的差异，这使我们初学者来说真的很头疼，而这种差异该如何消除呢。XML数据以纯文本格式进行存储，因此提供了一种独立于软件和一年的数据存储方法，这让创建不同应用程序可以共享的数据变得更加容易。
   除此之外，在我们学的java课程中，也有许多用到XML文档的地方，在实现类和数据库中的表的映射关系时也需要用XML，实现MVC模式，通过使用XML，就不需要直接用sql语句对数据库直接操作了，只需要几个简单的get和set方法就能实现对数据库数据的操作。

四、组合模式在XML中的应用
   1、XML文档解析
 


<?xml version="1.0"?>
  <books>
    <book>
        <author>Carson</author>
        <price format="dollar">31.95</price>
        <pubdate>05/01/2001</pubdate>
    </book>
    <pubinfo>
        <publisher>MSPress</publisher>
        <state>WA</state>
    </pubinfo>
  </books> 

 
五、总结
    本文论述了在我们做过的信息系统中如何应用设计模式和XML，在以前开发的系统中可能没有应用到，但是在以后的开发中，就可以多采用这种优良的设计模式和规范的XMl文档来辅助开发，做出一个更好的信息系统。
 
 
参考文献：
 
[1]张向征.设计模式在web系统开发中的应用研究
[2]王易，桂浩.合成模式在XML Schema设计中的应用
[3]贾艳宇.XML在信息系统开发中的应用.电脑学习.2009 
[4]刘续.基于XML技术的信息系统集成在电子商务中的应用.电子商务
